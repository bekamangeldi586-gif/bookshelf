{% extends 'library/base.html' %}
{% block content %}
<div class="card w-50 mx-auto mt-5 shadow-lg p-3 rounded">
    <div class="card-header text-center">
        {% if lang == 'ru' %}–í—Ö–æ–¥{% elif lang == 'en' %}Login{% elif lang == 'kz' %}–ö—ñ—Ä—É{% endif %}
    </div>
    <div class="card-body">
        <form method="post">
            {% csrf_token %}

            <!-- Username -->
            <div class="mb-3">
                <label for="id_username" class="form-label">
                    {% if lang == 'ru' %}–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è{% elif lang == 'en' %}Username{% elif lang == 'kz' %}–ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã –∞—Ç—ã{% endif %}
                </label>
                {{ form.username }}
                {% for error in form.username.errors %}
                    <div class="text-danger">
                        {% if lang == 'ru' %}
                            {{ error|escape }}
                        {% elif lang == 'en' %}
                            {{ error }}
                        {% elif lang == 'kz' %}
                            {{ error|escape }}
                        {% endif %}
                    </div>
                {% endfor %}
            </div>

            <!-- Password -->
            <div class="mb-3">
                <label for="id_password" class="form-label">
                    {% if lang == 'ru' %}–ü–∞—Ä–æ–ª—å{% elif lang == 'en' %}Password{% elif lang == 'kz' %}“ö“±–ø–∏—è —Å”©–∑{% endif %}
                </label>
                {{ form.password }}
                {% for error in form.password.errors %}
                    <div class="text-danger">
                        {% if lang == 'ru' %}
                            {{ error|escape }}
                        {% elif lang == 'en' %}
                            {{ error }}
                        {% elif lang == 'kz' %}
                            {{ error|escape }}
                        {% endif %}
                    </div>
                {% endfor %}
            </div>

            <button type="submit" class="btn btn-primary w-100">
                {% if lang == 'ru' %}–í–æ–π—Ç–∏{% elif lang == 'en' %}Login{% elif lang == 'kz' %}–ö—ñ—Ä—É{% endif %}
            </button>
            
            <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #dee2e6;">
                <p class="text-center text-muted small">
                    {% if lang == 'ru' %}–∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑{% elif lang == 'en' %}or login via{% elif lang == 'kz' %}–Ω–µ–º–µ—Å–µ –∫–µ–ª–µ—Å—ñ –∞—Ä“õ—ã–ª—ã –∫—ñ—Ä—ñ“£—ñ–∑{% endif %}
                </p>
                <a href="/oidc/authenticate/?next=/?lang={{ lang }}" class="btn btn-info w-100">
                    {% if lang == 'ru' %}üîê –í—Ö–æ–¥ —á–µ—Ä–µ–∑ SSO (Keycloak){% elif lang == 'en' %}üîê Login via SSO (Keycloak){% elif lang == 'kz' %}üîê SSO –∞—Ä“õ—ã–ª—ã –∫—ñ—Ä—É (Keycloak){% endif %}
                </a>
            </div>
        </form>

        <p class="mt-3 text-center">
            {% if lang == 'ru' %}–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?{% elif lang == 'en' %}No account?{% elif lang == 'kz' %}–¢—ñ—Ä–∫–µ–ª–º–µ–≥–µ–Ω—Å—ñ–∑ –±–µ?{% endif %}
            <a href="{% url 'register' %}?lang={{ lang }}">
                {% if lang == 'ru' %}–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è{% elif lang == 'en' %}Register{% elif lang == 'kz' %}–¢—ñ—Ä–∫–µ–ª—É{% endif %}
            </a>
        </p>
    </div>
</div>
{% endblock %}
